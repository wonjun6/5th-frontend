<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <style>
        /* :root {
            --bg: #ffffff;
            --text: #000000;
        }

        .dark-mode {
            --bg: #1e1e1e;
            --text: #ffffff;
        }

        body {
            background-color: var(--bg);
            color: var(--text);
            transition: 0.3s;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        button {
            padding: 10px 20px;
            cursor: pointer;
            border-radius: 8px;
            border: 1px solid #ccc;
        } */

        .warning {
            color: red;
            font-weight: bold;
        }

        textarea {
            width: 300px;
            height: 100px;
            display: block;
            margin-bottom: 5px;
        }
    </style>
</head>

<body>
    <!-- <button id="theme-btn">테마 전환하기</button>
    <script>
        const themeBtn = document.getElementById('theme-btn');
        themeBtn.addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');
        });
    </script> -->

    <!-- event 객체 활용 : e.target.value -->
    <!-- <textarea id="content" placeholder="내용을 입력하세요 (최대 20자)"></textarea>
    <div>글자 수: <span id="char-count">0</span> / 20</div>

    <script>
        const textarea = document.getElementById('content');
        const countSpan = document.getElementById('char-count');

        textarea.addEventListener('input', (e) => {
            const length = e.target.value.length;
            countSpan.innerHTML = length;

            if(length > 20) {
                countSpan.classList.add('warning');
            } else {
                countSpan.classList.remove('warning');
            }

        });
    </script> -->

    <!-- input.value -->
    <h2>오늘의 할 일</h2>
    <input type="text" id="todo-input" placeholder="할 일을 입력하세요">
    <button id="add-btn">추가</button>
    <ul id="todo-list"></ul>

    <script>
        const input = document.getElementById('todo-input');
        const btn = document.getElementById('add-btn');
        const list = document.getElementById('todo-list');
        // 로드 : 데이터를 불러오기
        window.onload = () => {
            const savedTodos = JSON.parse(localStorage.getItem('todos')) || [];
            savedTodos.forEach(todoText => createTodoElement(todoText));
        }

        // 저장 : 리스트를 localStorage 저장
        function saveTodos() {
            const todoItems = [];
            list.querySelectorAll('li').forEach(li => {
                todoItems.push(li.firstChild.textContent);
            });
            localStorage.setItem('todos', JSON.stringify(todoItems));
        }

        // 출력 : UI 요소 생성
        function createTodoElement(text) {
            // li 생성 <- input.value
            const li = document.createElement('li');
            li.innerHTML = text;

            // x 버튼 생성
            const delBtn = document.createElement('button');
            delBtn.innerHTML = ' X';
            delBtn.onclick = () => {
                li.remove();
                saveTodos();
            };

            // 출력
            li.appendChild(delBtn);
            list.appendChild(li);
        }

        // 추가 : 버튼 클릭 이벤트
        btn.addEventListener('click', () => {
            createTodoElement(input.value);
            saveTodos();
            input.value = '';
        });

        // btn.addEventListener('click', () => {

        //     // li 생성 <- input.value
        //     const li = document.createElement('li');
        //     li.innerHTML = input.value;

        //     // x 버튼 생성
        //     const delBtn = document.createElement('button');
        //     delBtn.innerHTML = ' X';
        //     delBtn.onclick = () => li.remove();

        //     // 출력
        //     li.appendChild(delBtn);
        //     list.appendChild(li);

        //     input.value = '';
        // });


        // localStorage.setItem('user-name', 'js');
        // console.log(localStorage.getItem('user-name'));

        // const user1 = { id: 1, task: 'study' };
        // localStorage.setItem('user1', JSON.stringify(user1));
        // const foundUser1 = JSON.parse(localStorage.getItem('user1'));


    </script>

</body>

</html>